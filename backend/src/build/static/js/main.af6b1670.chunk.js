(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(13),r=n.n(s),o=n(14),i=n(2),l=n(9),d=n(10),j=n(11),u=n.n(j),b=n(18),h=n(21),p=n(25),m=n.n(p),f=n(1);var O=function(){return Object(f.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(o.b,{to:"/",className:"navbar-brand",children:Object(f.jsx)("span",{className:"fs-2 fw-bold",children:"Task"})})})})},x=function(e){return Object(f.jsx)("div",{className:"card",children:Object(f.jsx)("div",{className:"card-body",children:Object(f.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)("input",{type:"text",value:e.formValues.title,onChange:e.onChangeInput,className:"form-control",name:"title",placeholder:"Title",required:!0})}),Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)("textarea",{name:"description",value:e.formValues.description,onChange:e.onChangeTextArea,className:"form-control",rows:5,placeholder:"Description",required:!0})}),Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)("input",{type:"url",value:e.formValues.image_url,onChange:e.onChangeInput,className:"form-control",name:"image_url",placeholder:"Image Url",required:!0})}),Object(f.jsx)("div",{className:"d-grid gap-2",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar"})})]})})})},g=n(22),v=function(e){return Object(f.jsxs)("table",{className:"table table-striped table-hover",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Title"}),Object(f.jsx)("th",{children:"Description"}),Object(f.jsx)("th",{children:"Image Url"}),Object(f.jsx)("th",{children:"Controls"})]})}),Object(f.jsx)("tbody",{children:e.data.map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:t.title}),Object(f.jsx)("td",{children:t.description}),Object(f.jsx)("td",{children:t.image_url}),Object(f.jsxs)("td",{style:{width:"8rem"},children:[Object(f.jsx)("button",{className:"btn btn-info",onClick:function(){return e.update(t.id)},children:Object(f.jsx)(g.b,{})}),Object(f.jsx)("button",{className:"btn btn-danger ms-3",onClick:function(){return e.delete(t.id)},children:Object(f.jsx)(g.a,{})})]})]},t.id)}))})]})},N=n(12),y=function(){var e=Object(c.useState)({title:"",description:"",image_url:"",id:""}),t=Object(h.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)([]),o=Object(h.a)(r,2),i=o[0],j=o[1];Object(c.useEffect)((function(){p()}),[]);var p=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/api/posts");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,j(n),console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/api/posts/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,console.log(c[0].title),s(c[0]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)(O,{}),Object(f.jsxs)("div",{className:"container mt-5",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-lg-3 col-md-6 offset-lg-1 offset-md-3 mb-lg-0 mb-md-4",children:Object(f.jsx)(x,{onSubmit:function(e){n.id?fetch("http://localhost:4000/api/posts/".concat(n.id),{method:"PUT",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),N.b.success("Post Updated"),s({title:"",description:"",image_url:"",id:""}),p()})).catch((function(e){return console.error(e)})):fetch("http://localhost:4000/api/posts",{method:"POST",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),N.b.success("Post Saved"),s({title:"",description:"",image_url:""}),p()})).catch((function(e){return console.error(e)})),e.preventDefault()},onChangeInput:function(e){var t=e.target,c=t.name,a=t.value;s(Object(d.a)(Object(d.a)({},n),{},Object(l.a)({},c,a)))},onChangeTextArea:function(e){var t=e.target,c=t.name,a=t.value;s(Object(d.a)(Object(d.a)({},n),{},Object(l.a)({},c,a)))},formValues:n})}),Object(f.jsx)("div",{className:"col-lg-6 offset-lg-1 offset-md-0",children:Object(f.jsx)(v,{data:i,delete:function(e){m()({title:"Eliminar",text:"\xbfEst\xe1s seguro que deseas eliminar este Post?",icon:"warning",buttons:["No","S\xed"]}).then((function(t){t&&fetch("http://localhost:4000/api/posts/".concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),N.b.error("Post deleted"),p()}))}))},update:g})})]}),Object(f.jsx)(N.a,{})]})]})};var C=function(){return Object(f.jsx)(o.a,{children:Object(f.jsx)(i.c,{children:Object(f.jsx)(i.a,{exact:!0,path:"/",component:y})})})};n(39);r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.af6b1670.chunk.js.map